float hx,hy,mx,my,gx,gy;
int coun = 0;
int ismov;

void setup(){
  noStroke();
  size(400,300);
  reset();
}

void reset(){
  ismov = 1;
  hx = random((width/2)-35,(width/2)+35);
  hy = random(15,35);
  if(random(0,100)>50){mx = width-20;} else{mx = 20;}
  my = random(20,height-20);
  gx = random(width/4,width*3/4);
  gy = random(height/4,height*3/4);
}

void draw(){
  scene();
  actors();
  conditions();
}

void mousePressed(){
  hx = mouseX;
  hy = mouseY;
}

void scene(){
  background(100,205,0);
  fill(130,100,0);
  rectMode(CORNERS);
  rect((width/2)-50,0,(width/2)+50,50);
}

void actors(){
  h();
  m();
  g();  
}

void conditions(){
  if(dist(hx,hy,mx,my) <= 35){ 
    ismov = 0;
    fill(0);
    text("The hero did not go fast!", 5,height-5);
    coun ++;
    while(coun > 100){coun = 0; reset(); break;}
  }
  else if(dist(hx,hy,gx,gy) <= 25){ 
    ismov = 0;
    fill(0);
    text("The hero went fast!", 5,height-5);
    coun ++;
    while(coun > 100){coun = 0; reset(); break;}
  }
}

void h(){
  stroke(0,0,255);
  strokeWeight(2);
  line(hx,hy, hx-15,hy+25);
  line(hx,hy, hx+15,hy+25);
  line(hx,hy, hx-25,hy-3);
  line(hx,hy, hx+25,hy-3);
  
  strokeWeight(9);
  triangle(hx,hy-20, hx+10,hy-5, hx-10,hy-5);
  triangle(hx-7,hy-17, hx+5,hy-5, hx-10,hy-5);
  triangle(hx-10,hy-13, hx,hy-5, hx-10,hy-5);
  
  fill(200,180,0);
  ellipse(hx,hy,30,30);
  
  noStroke();
  fill(255);
  ellipse(hx-3,hy-10,10,13);
  ellipse(hx+3,hy-10,10,13);
  
  fill(0,0,255);
  ellipse(hx-1,hy-10,3,4);
  ellipse(hx+1,hy-10,3,4);
  
  fill(100,50,0);
  ellipse(hx,hy-4,6,4);
  
  hx += ((gx - hx)/75)*(ismov);
  hy += ((gy - hy)/75)*(ismov);
}

void m(){
  strokeWeight(1);
  fill(0);
  ellipse(mx,my,40,40);
  mx += ((hx - mx)/100)*(ismov);
  my += ((hy - my)/100)*(ismov);
}

void g(){
  stroke(255,255,0);
  strokeWeight(5);
  noFill();
  ellipse(gx,gy,20,30);
  noStroke();
}
